<div class="m-3">
  <h1>Manage Buildings</h1>
</div>
<div class="row">
  <div class="col">
    <table
      mat-table
      [dataSource]="buildingList"
      [fixedLayout]="true"
      class="mat-elevation-z8 mat-table"
    >
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef>Id</th>
        <td mat-cell *matCellDef="let element">{{ element.id }}</td>
      </ng-container>

      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef>Name</th>
        <td mat-cell *matCellDef="let element">{{ element.name }}</td>
      </ng-container>

      <ng-container matColumnDef="address">
        <th mat-header-cell *matHeaderCellDef>Address</th>
        <td mat-cell *matCellDef="let element">{{ element.address }}</td>
      </ng-container>

      <ng-container matColumnDef="state">
        <th mat-header-cell *matHeaderCellDef>State</th>
        <td mat-cell *matCellDef="let element">{{ element.state }}</td>
      </ng-container>

      <ng-container matColumnDef="zipcode">
        <th mat-header-cell *matHeaderCellDef>Zipcode</th>
        <td mat-cell *matCellDef="let element">{{ element.zipcode }}</td>
      </ng-container>

      <ng-container matColumnDef="deleteAction">
        <th mat-header-cell *matHeaderCellDef>Delete</th>
        <td mat-cell *matCellDef="let element">
          <button (click)="deleteBuildingAsync(element.id)">Delete</button>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
  </div>
  <div class="col">
    <h3>Add New Building</h3>
    <form [formGroup]="buildingForm">
      <div class="row">
        <mat-form-field appearance="fill">
          <mat-label>Name</mat-label>
          <input matInput formControlName="name" type="text" />
          <mat-error *ngIf="buildingForm.controls['name'].hasError('required')"
            >Building Name is required.</mat-error
          >
        </mat-form-field>
      </div>
      <div class="row">
        <mat-form-field appearance="fill" floatLabel="always">
          <mat-label>Address</mat-label>
          <input matInput formControlName="address" type="text" />
          <mat-error
            *ngIf="buildingForm.controls['address'].hasError('required')"
            >Building Address is required.</mat-error
          >
        </mat-form-field>
      </div>
      <div class="row">
        <mat-form-field appearance="fill" floatLabel="always">
          <mat-label>State</mat-label>
          <input matInput formControlName="state" type="text" />
          <mat-error *ngIf="buildingForm.controls['state'].hasError('required')"
            >State is required.</mat-error
          >
        </mat-form-field>
      </div>
      <div class="row">
        <mat-form-field appearance="fill" floatLabel="always">
          <mat-label>Zipcode</mat-label>
          <input matInput formControlName="zipcode" type="text" />
          <mat-error
            *ngIf="buildingForm.controls['zipcode'].hasError('required')"
            >Zipcode is required.</mat-error
          >
        </mat-form-field>
      </div>
      <button (click)="addBuildingAsync()">Add Building</button>
    </form>
  </div>
</div>
